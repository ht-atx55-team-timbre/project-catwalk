{"ast":null,"code":"import _slicedToArray from\"/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{Grid}from'@material-ui/core';import _ from'underscore';import axios from'axios';import HelpfulAnswerHandler from'./HelpfulAndReport/HelpfulAnswerHandler.jsx';import MoreAnswersButton from'./MoreAnswersButton.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Answers=function Answers(_ref){var question_id=_ref.question_id,toggleAnswerReload=_ref.toggleAnswerReload;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),answers=_useState2[0],setAnswers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),displayedAnswers=_useState4[0],setDisplayedAnswers=_useState4[1];var _useState5=useState(2),_useState6=_slicedToArray(_useState5,2),answersCount=_useState6[0],setAnswersCount=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),answerToggle=_useState8[0],setAnswerToggle=_useState8[1];useEffect(function(){axios.get(\"http://127.0.0.1:3004/qa/questions/\".concat(question_id,\"/answers\"),{params:{question_id:question_id,count:1000}}).then(function(answers){setAnswers(answers.data.results);}).catch(function(err){console.log(err);});},[question_id,answerToggle]);useEffect(function(){setAnswerToggle(toggleAnswerReload);},[toggleAnswerReload]);useEffect(function(){setDisplayedAnswers(answers.slice(0,answersCount));},[answers,answersCount]);var handleLoadMoreClick=function handleLoadMoreClick(event){setAnswersCount(answersCount+2);};var handleCollapseClick=function handleCollapseClick(event){setAnswersCount(2);};return/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(Grid,{children:_.map(displayedAnswers,function(answer){return/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(HelpfulAnswerHandler,{answer:answer})})},answer.answer_id);})}),answers.length>0&&answers.length!==displayedAnswers.length?/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(MoreAnswersButton,{text:\"Load more answers\",handleClick:handleLoadMoreClick})}):answers.length>2&&/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(MoreAnswersButton,{text:\"Collapse answers\",handleClick:handleCollapseClick})})]});};export default Answers;","map":{"version":3,"sources":["/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/client/src/qa-components/Answers.jsx"],"names":["useState","useEffect","Grid","_","axios","HelpfulAnswerHandler","MoreAnswersButton","Answers","question_id","toggleAnswerReload","answers","setAnswers","displayedAnswers","setDisplayedAnswers","answersCount","setAnswersCount","answerToggle","setAnswerToggle","get","params","count","then","data","results","catch","err","console","log","slice","handleLoadMoreClick","event","handleCollapseClick","map","answer","answer_id","length"],"mappings":"+KAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,MAAOC,CAAAA,CAAP,KAAc,YAAd,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,6CAAjC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,yBAA9B,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAyC,IAAtCC,CAAAA,WAAsC,MAAtCA,WAAsC,CAAzBC,kBAAyB,MAAzBA,kBAAyB,eACzBT,QAAQ,CAAC,EAAD,CADiB,wCAChDU,OADgD,eACvCC,UADuC,8BAEPX,QAAQ,CAAC,EAAD,CAFD,yCAEhDY,gBAFgD,eAE9BC,mBAF8B,8BAGfb,QAAQ,CAAC,CAAD,CAHO,yCAGhDc,YAHgD,eAGlCC,eAHkC,8BAIff,QAAQ,CAAC,IAAD,CAJO,yCAIhDgB,YAJgD,eAIlCC,eAJkC,eAMvDhB,SAAS,CAAC,UAAM,CACdG,KAAK,CAACc,GAAN,8CAAgDV,WAAhD,aAAuE,CACrEW,MAAM,CAAE,CACNX,WAAW,CAAEA,WADP,CAENY,KAAK,CAAE,IAFD,CAD6D,CAAvE,EAMGC,IANH,CAMQ,SAAAX,OAAO,CAAI,CACfC,UAAU,CAACD,OAAO,CAACY,IAAR,CAAaC,OAAd,CAAV,CACD,CARH,EASGC,KATH,CASS,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAXH,EAYD,CAbQ,CAaN,CAACjB,WAAD,CAAcQ,YAAd,CAbM,CAAT,CAeAf,SAAS,CAAC,UAAM,CACdgB,eAAe,CAACR,kBAAD,CAAf,CACD,CAFQ,CAEN,CAACA,kBAAD,CAFM,CAAT,CAIAR,SAAS,CAAC,UAAM,CACdY,mBAAmB,CAACH,OAAO,CAACkB,KAAR,CAAc,CAAd,CAAiBd,YAAjB,CAAD,CAAnB,CACD,CAFQ,CAEN,CAACJ,OAAD,CAAUI,YAAV,CAFM,CAAT,CAIA,GAAMe,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,CACrCf,eAAe,CAACD,YAAY,CAAG,CAAhB,CAAf,CACD,CAFD,CAIA,GAAMiB,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACD,KAAD,CAAW,CACrCf,eAAe,CAAC,CAAD,CAAf,CACD,CAFD,CAIA,mBACE,MAAC,IAAD,yBACE,KAAC,IAAD,WACGZ,CAAC,CAAC6B,GAAF,CAAMpB,gBAAN,CAAwB,SAAAqB,MAAM,qBAC7B,KAAC,IAAD,wBACE,KAAC,IAAD,wBACE,KAAC,oBAAD,EAAsB,MAAM,CAAEA,MAA9B,EADF,EADF,EAAWA,MAAM,CAACC,SAAlB,CAD6B,EAA9B,CADH,EADF,CAUIxB,OAAO,CAACyB,MAAR,CAAiB,CAAjB,EAAsBzB,OAAO,CAACyB,MAAR,GAAmBvB,gBAAgB,CAACuB,MAA1D,cACE,KAAC,IAAD,wBACA,KAAC,iBAAD,EAAmB,IAAI,CAAC,mBAAxB,CAA4C,WAAW,CAAEN,mBAAzD,EADA,EADF,CAIEnB,OAAO,CAACyB,MAAR,CAAiB,CAAjB,eACF,KAAC,IAAD,wBACE,KAAC,iBAAD,EAAmB,IAAI,CAAC,kBAAxB,CAA2C,WAAW,CAAEJ,mBAAxD,EADF,EAfJ,GADF,CAsBD,CA3DD,CA6DA,cAAexB,CAAAA,OAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Grid } from '@material-ui/core';\nimport _ from 'underscore';\nimport axios from 'axios';\nimport HelpfulAnswerHandler from './HelpfulAndReport/HelpfulAnswerHandler.jsx';\nimport MoreAnswersButton from './MoreAnswersButton.jsx';\n\nconst Answers = ({ question_id, toggleAnswerReload }) => {\n  const [answers, setAnswers] = useState([]);\n  const [displayedAnswers, setDisplayedAnswers] = useState([]);\n  const [answersCount, setAnswersCount] = useState(2);\n  const [answerToggle, setAnswerToggle] = useState(true);\n\n  useEffect(() => {\n    axios.get(`http://127.0.0.1:3004/qa/questions/${question_id}/answers`, {\n      params: {\n        question_id: question_id,\n        count: 1000\n      }\n    })\n      .then(answers => {\n        setAnswers(answers.data.results);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, [question_id, answerToggle]);\n\n  useEffect(() => {\n    setAnswerToggle(toggleAnswerReload);\n  }, [toggleAnswerReload])\n\n  useEffect(() => {\n    setDisplayedAnswers(answers.slice(0, answersCount));\n  }, [answers, answersCount])\n\n  const handleLoadMoreClick = (event) => {\n    setAnswersCount(answersCount + 2);\n  };\n\n  const handleCollapseClick = (event) => {\n    setAnswersCount(2);\n  };\n\n  return (\n    <Grid>\n      <Grid>\n        {_.map(displayedAnswers, answer =>\n          <Grid key={answer.answer_id}>\n            <Grid>\n              <HelpfulAnswerHandler answer={answer}/>\n            </Grid>\n          </Grid>\n        )}\n      </Grid>\n      { answers.length > 0 && answers.length !== displayedAnswers.length\n        ? <Grid>\n          <MoreAnswersButton text=\"Load more answers\" handleClick={handleLoadMoreClick} />\n        </Grid>\n        : answers.length > 2 &&\n        <Grid>\n          <MoreAnswersButton text=\"Collapse answers\" handleClick={handleCollapseClick} />\n        </Grid>\n      }\n    </Grid>\n  )\n}\n\nexport default Answers;"]},"metadata":{},"sourceType":"module"}