{"ast":null,"code":"import _toConsumableArray from\"/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from'react';import{Grid}from'@material-ui/core';import{Button}from'@material-ui/core';import{Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle}from'@material-ui/core';import getCharacteristics from'./getCharacteristics';import postForm from'./review-form/postForm';import FormRating from'./review-form/FormRating';import FormRecommend from'./review-form/FormRecommend';import FormName from'./review-form/FormName';import FormEmail from'./review-form/FormEmail';import FormCharacteristics from'./review-form/FormCharacteristics';import FormSummary from'./review-form/FormSummary';import FormBody from'./review-form/FormBody';import FormUpload from'./review-form/FormUpload';import FormImages from'./review-form/FormImages';import postDataHelper from'./review-form/postDataHelper';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReviewSubmit=function ReviewSubmit(_ref){var name=_ref.name,product_id=_ref.product_id,setAddReview=_ref.setAddReview,open=_ref.open,setOpen=_ref.setOpen;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),recommend=_useState2[0],setRecommend=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),userName=_useState6[0],setUserName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),summary=_useState10[0],setSummary=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),body=_useState12[0],setBody=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),characteristics=_useState14[0],setCharacteristics=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),files=_useState16[0],setFile=_useState16[1];useEffect(function(){getCharacteristics(product_id).then(function(characteristics){return setCharacteristics(characteristics);});},[product_id]);var handleClose=function handleClose(){setOpen(false);};var handleSubmit=function handleSubmit(){setOpen(false);setAddReview(true);var data=postDataHelper(product_id,rating,summary,body,recommend,userName,email,files,characteristics);postForm(data);};var handleChange=function handleChange(event){if(event.target.name in characteristics){characteristics[event.target.name]['value']=event.target.value;setCharacteristics(_objectSpread({},characteristics));}if(event.target.name==='files'){setFile([].concat(_toConsumableArray(files),[URL.createObjectURL(event.target.files[0])]));}};return/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\",maxWidth:'lg',children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Write Your Review\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(DialogContentText,{children:[\"About the \",name]}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsxs(Grid,{item:true,container:true,xs:5,children:[/*#__PURE__*/_jsx(FormRating,{rating:rating,setRating:setRating}),/*#__PURE__*/_jsx(FormRecommend,{recommend:recommend,setRecommend:setRecommend}),/*#__PURE__*/_jsx(FormCharacteristics,{characteristics:characteristics,handleChange:handleChange})]}),/*#__PURE__*/_jsxs(Grid,{item:true,container:true,xs:7,children:[/*#__PURE__*/_jsx(FormName,{setUserName:setUserName}),/*#__PURE__*/_jsx(FormEmail,{setEmail:setEmail}),/*#__PURE__*/_jsx(FormSummary,{setSummary:setSummary}),/*#__PURE__*/_jsx(FormBody,{setBody:setBody})]}),/*#__PURE__*/_jsx(FormUpload,{handleChange:handleChange}),/*#__PURE__*/_jsx(FormImages,{files:files})]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,color:\"primary\",children:\"Submit\"})]})]});};export default ReviewSubmit;","map":{"version":3,"sources":["/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/client/src/reviews-components/ReviewSubmit.js"],"names":["React","useState","useEffect","Grid","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","getCharacteristics","postForm","FormRating","FormRecommend","FormName","FormEmail","FormCharacteristics","FormSummary","FormBody","FormUpload","FormImages","postDataHelper","ReviewSubmit","name","product_id","setAddReview","open","setOpen","recommend","setRecommend","rating","setRating","userName","setUserName","email","setEmail","summary","setSummary","body","setBody","characteristics","setCharacteristics","files","setFile","then","handleClose","handleSubmit","data","handleChange","event","target","value","URL","createObjectURL"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Grid } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\n\nimport getCharacteristics from './getCharacteristics';\nimport postForm from './review-form/postForm'\nimport FormRating from './review-form/FormRating'\nimport FormRecommend from './review-form/FormRecommend'\nimport FormName from './review-form/FormName'\nimport FormEmail from './review-form/FormEmail'\nimport FormCharacteristics from './review-form/FormCharacteristics'\nimport FormSummary from './review-form/FormSummary'\nimport FormBody from './review-form/FormBody'\nimport FormUpload from './review-form/FormUpload'\nimport FormImages from './review-form/FormImages'\nimport postDataHelper from './review-form/postDataHelper'\n\nconst ReviewSubmit = ({ name, product_id, setAddReview, open, setOpen}) => {\n\n  const [recommend, setRecommend] = useState(true);\n  const [rating, setRating] = useState(0);\n  const [userName, setUserName] = useState(0);\n  const [email, setEmail] = useState('')\n  const [summary, setSummary] = useState('');\n  const [body, setBody] = useState('');\n  const [characteristics, setCharacteristics] = useState({});\n  const [files, setFile] = useState([]);\n\n  useEffect(()=> {\n    getCharacteristics(product_id)\n      .then(characteristics => setCharacteristics(characteristics))\n  }, [product_id])\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleSubmit = () => {\n    setOpen(false);\n    setAddReview(true);\n    const data = postDataHelper(product_id, rating, summary, body, recommend, userName, email, files, characteristics)\n    postForm(data);\n  }\n\n  const handleChange = (event) => {\n    if (event.target.name in characteristics) {\n      characteristics[event.target.name]['value'] = event.target.value\n      setCharacteristics({...characteristics})\n    }\n    if (event.target.name === 'files') {\n      setFile([...files, URL.createObjectURL(event.target.files[0])])\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" maxWidth={'lg'}>\n      <DialogTitle id=\"form-dialog-title\">Write Your Review</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          About the {name}\n        </DialogContentText>\n        <Grid container>\n          <Grid item container xs={5}>\n            <FormRating rating={rating} setRating={setRating} />\n            <FormRecommend recommend={recommend} setRecommend={setRecommend} />\n            <FormCharacteristics characteristics={characteristics} handleChange={handleChange} />\n          </Grid>\n          <Grid item container xs={7}>\n            <FormName setUserName={setUserName} />\n            <FormEmail setEmail={setEmail} />\n            <FormSummary setSummary={setSummary} />\n            <FormBody setBody={setBody} />\n          </Grid>\n          <FormUpload handleChange={handleChange} />\n          <FormImages files={files} />\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">Cancel</Button>\n        <Button onClick={handleSubmit} color=\"primary\">Submit</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default ReviewSubmit;"]},"metadata":{},"sourceType":"module"}