{"ast":null,"code":"import _slicedToArray from\"/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import axios from'axios';import{Grid,Box,Divider,Typography}from'@material-ui/core';import AddAnswer from'../AddQuestionAndAnswer/AddAnswer.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HelpfulQuestionHandler=function HelpfulQuestionHandler(_ref){var toggleAnswerReloadOnFormSubmit=_ref.toggleAnswerReloadOnFormSubmit,product_id=_ref.product_id,question=_ref.question,name=_ref.name;var _useState=useState(question.question_helpfulness),_useState2=_slicedToArray(_useState,2),helpfulness=_useState2[0],setHelpfulness=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),qIsClicked=_useState4[0],setQIsClicked=_useState4[1];var url=\"http://127.0.0.1:3004/qa/questions/\".concat(question.question_id,\"/helpful\");var headersAndParams={params:{question_id:question.question_id}};var handleHelpfulQuestion=function handleHelpfulQuestion(event){if(!qIsClicked){setQIsClicked(true);setHelpfulness(helpfulness+1);axios.put(url,{helpfulness:helpfulness},headersAndParams).catch(function(err){console.log(err,'error sending new helpful question information');});}};return/*#__PURE__*/_jsx(Box,{pt:2,children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"row\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Typography,{style:{fontSize:12,color:\"grey\"},children:\"Helpful?\\xA0\"}),/*#__PURE__*/_jsxs(Typography,{style:{fontSize:12,color:\"grey\"},children:[/*#__PURE__*/_jsx(\"u\",{id:question.question_id,onClick:handleHelpfulQuestion,style:{cursor:\"pointer\"},children:\"Yes\"}),\"\\xA0\"]}),/*#__PURE__*/_jsxs(Typography,{style:{fontSize:12,color:\"grey\"},children:[\"(\",helpfulness,\")\\xA0\\xA0\"]}),/*#__PURE__*/_jsx(Divider,{orientation:\"vertical\",flexItem:true}),/*#__PURE__*/_jsx(AddAnswer,{toggleAnswerReloadOnFormSubmit:toggleAnswerReloadOnFormSubmit,question:question,name:name})]})});};export default HelpfulQuestionHandler;","map":{"version":3,"sources":["/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/client/src/qa-components/HelpfulAndReport/HelpfulQuestionHandler.jsx"],"names":["useState","axios","Grid","Box","Divider","Typography","AddAnswer","HelpfulQuestionHandler","toggleAnswerReloadOnFormSubmit","product_id","question","name","question_helpfulness","helpfulness","setHelpfulness","qIsClicked","setQIsClicked","url","question_id","headersAndParams","params","handleHelpfulQuestion","event","put","catch","err","console","log","fontSize","color","cursor"],"mappings":"+KAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,OAApB,CAA6BC,UAA7B,KAA+C,mBAA/C,CACA,MAAOC,CAAAA,SAAP,KAAsB,uCAAtB,C,wFAEA,GAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,MAAoE,IAAjEC,CAAAA,8BAAiE,MAAjEA,8BAAiE,CAAjCC,UAAiC,MAAjCA,UAAiC,CAArBC,QAAqB,MAArBA,QAAqB,CAAXC,IAAW,MAAXA,IAAW,eAC3DX,QAAQ,CAACU,QAAQ,CAACE,oBAAV,CADmD,wCAC1FC,WAD0F,eAC7EC,cAD6E,8BAE7Dd,QAAQ,CAAC,KAAD,CAFqD,yCAE1Fe,UAF0F,eAE9EC,aAF8E,eAIjG,GAAMC,CAAAA,GAAG,8CAAyCP,QAAQ,CAACQ,WAAlD,YAAT,CACA,GAAMC,CAAAA,gBAAgB,CAAG,CACvBC,MAAM,CAAE,CAAEF,WAAW,CAAER,QAAQ,CAACQ,WAAxB,CADe,CAAzB,CAIA,GAAMG,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,KAAD,CAAW,CACvC,GAAI,CAACP,UAAL,CAAiB,CACfC,aAAa,CAAC,IAAD,CAAb,CACAF,cAAc,CAACD,WAAW,CAAG,CAAf,CAAd,CACAZ,KAAK,CAACsB,GAAN,CAAUN,GAAV,CAAe,CAACJ,WAAW,CAAEA,WAAd,CAAf,CAA2CM,gBAA3C,EACGK,KADH,CACS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAiB,gDAAjB,EACD,CAHH,EAID,CACF,CATD,CAWA,mBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAC,KAA1B,CAAgC,UAAU,CAAC,QAA3C,wBACE,KAAC,UAAD,EAAY,KAAK,CAAE,CAACG,QAAQ,CAAE,EAAX,CAAeC,KAAK,CAAE,MAAtB,CAAnB,0BADF,cAEE,MAAC,UAAD,EAAY,KAAK,CAAE,CAACD,QAAQ,CAAE,EAAX,CAAeC,KAAK,CAAE,MAAtB,CAAnB,wBACE,UAAG,EAAE,CAAEnB,QAAQ,CAACQ,WAAhB,CAA6B,OAAO,CAAEG,qBAAtC,CAA6D,KAAK,CAAE,CAACS,MAAM,CAAE,SAAT,CAApE,iBADF,UAFF,cAQE,MAAC,UAAD,EAAY,KAAK,CAAE,CAACF,QAAQ,CAAE,EAAX,CAAeC,KAAK,CAAE,MAAtB,CAAnB,eACIhB,WADJ,eARF,cAWE,KAAC,OAAD,EAAS,WAAW,CAAC,UAArB,CAAgC,QAAQ,KAAxC,EAXF,cAYE,KAAC,SAAD,EACE,8BAA8B,CAAEL,8BADlC,CAEE,QAAQ,CAAEE,QAFZ,CAGE,IAAI,CAAEC,IAHR,EAZF,GADF,EADF,CAsBD,CA1CD,CA4CA,cAAeJ,CAAAA,sBAAf","sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { Grid, Box, Divider, Typography } from '@material-ui/core';\nimport AddAnswer from '../AddQuestionAndAnswer/AddAnswer.jsx';\n\nconst HelpfulQuestionHandler = ({ toggleAnswerReloadOnFormSubmit, product_id, question, name }) => {\n  const [helpfulness, setHelpfulness] = useState(question.question_helpfulness);\n  const [qIsClicked, setQIsClicked] = useState(false);\n\n  const url = `http://127.0.0.1:3004/qa/questions/${question.question_id}/helpful`;\n  const headersAndParams = {\n    params: { question_id: question.question_id }\n  };\n\n  const handleHelpfulQuestion = (event) => {\n    if (!qIsClicked) {\n      setQIsClicked(true);\n      setHelpfulness(helpfulness + 1);\n      axios.put(url, {helpfulness: helpfulness}, headersAndParams)\n        .catch((err) => {\n          console.log(err, 'error sending new helpful question information');\n        });\n    }\n  }\n\n  return (\n    <Box pt={2}>\n      <Grid container direction=\"row\" alignItems=\"center\">\n        <Typography style={{fontSize: 12, color: \"grey\"}}>Helpful?&nbsp;</Typography>\n        <Typography style={{fontSize: 12, color: \"grey\"}}>\n          <u id={question.question_id} onClick={handleHelpfulQuestion} style={{cursor: \"pointer\"}}>\n            Yes\n          </u>\n          &nbsp;\n        </Typography>\n        <Typography style={{fontSize: 12, color: \"grey\"}}>\n          ({helpfulness})&nbsp;&nbsp;\n        </Typography>\n        <Divider orientation=\"vertical\" flexItem/>\n        <AddAnswer\n          toggleAnswerReloadOnFormSubmit={toggleAnswerReloadOnFormSubmit}\n          question={question}\n          name={name}\n        />\n      </Grid>\n    </Box>\n  )\n}\n\nexport default HelpfulQuestionHandler;"]},"metadata":{},"sourceType":"module"}