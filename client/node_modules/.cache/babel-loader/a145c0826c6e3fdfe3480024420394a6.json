{"ast":null,"code":"import _slicedToArray from\"/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from'react';import{Grid,Paper}from'@material-ui/core';import{Button,ButtonGroup}from'@material-ui/core';import getReviews from'./review-card/getReviews';import ReviewsSort from'./ReviewsSort';import ReviewCards from'./ReviewCards';import ratingComponent from'./ratingComponent';import ReviewSubmit from'./ReviewSubmit';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Reviews=function Reviews(_ref){var product_id=_ref.product_id,name=_ref.name,addReview=_ref.addReview,setAddReview=_ref.setAddReview;var _useState=useState(2),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var _useState3=useState(\"relevant\"),_useState4=_slicedToArray(_useState3,2),sort=_useState4[0],setSort=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),results=_useState6[0],setResults=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalReviews=_useState8[0],setTotalReviews=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),open=_useState10[0],setOpen=_useState10[1];var handleSortChange=function handleSortChange(e){setSort(e.target.value);};useEffect(function(){getReviews(product_id,count,sort).then(function(res){if(res){setResults(res.data.results);}else{setResults([]);}});},[product_id,count,sort,addReview]);useEffect(function(){ratingComponent(product_id).then(function(res){if(res){setTotalReviews(res[1]);}else{setTotalReviews(0);}});},[product_id,addReview]);return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:9,children:/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",spacing:2,children:[/*#__PURE__*/_jsx(ReviewsSort,{totalReviews:totalReviews,sort:sort,handleSortChange:handleSortChange}),/*#__PURE__*/_jsx(ReviewCards,{results:results}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(ButtonGroup,{color:\"secondary\",children:[totalReviews>count&&/*#__PURE__*/_jsx(Button,{style:{borderRadius:'0'},onClick:function onClick(e){return setCount(count+2);},children:\"More Reviews\"}),!addReview&&/*#__PURE__*/_jsx(Button,{style:{borderRadius:'0'},onClick:function onClick(e){return setOpen(true);},children:\"Add Reviews +\"}),/*#__PURE__*/_jsx(ReviewSubmit,{name:name,product_id:product_id,setAddReview:setAddReview,open:open,setOpen:setOpen})]})})]})})});};export default Reviews;","map":{"version":3,"sources":["/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/client/src/reviews-components/Reviews.js"],"names":["React","useState","useEffect","Grid","Paper","Button","ButtonGroup","getReviews","ReviewsSort","ReviewCards","ratingComponent","ReviewSubmit","Reviews","product_id","name","addReview","setAddReview","count","setCount","sort","setSort","results","setResults","totalReviews","setTotalReviews","open","setOpen","handleSortChange","e","target","value","then","res","data","borderRadius"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Grid, Paper } from '@material-ui/core';\nimport { Button, ButtonGroup } from '@material-ui/core';\n\nimport getReviews from './review-card/getReviews'\nimport ReviewsSort from './ReviewsSort';\nimport ReviewCards from './ReviewCards';\nimport ratingComponent from './ratingComponent';\nimport ReviewSubmit from './ReviewSubmit';\n\nconst Reviews = ({ product_id, name, addReview, setAddReview }) => {\n  const [count, setCount] = useState(2)\n  const [sort, setSort] = useState(\"relevant\")\n  const [results, setResults] = useState([])\n  const [totalReviews, setTotalReviews] = useState(0)\n  const [open, setOpen] = useState(false)\n\n  const handleSortChange = (e) => {\n    setSort(e.target.value)\n  }\n\n  useEffect(() => {\n    getReviews(product_id, count, sort)\n      .then (res => {\n        if (res) {\n          setResults(res.data.results)\n        } else {\n          setResults([])\n        }\n\n      })\n  }, [product_id, count, sort, addReview])\n\n  useEffect(() => {\n    ratingComponent(product_id)\n    .then(res => {\n      if (res) {\n        setTotalReviews(res[1])\n      } else {\n        setTotalReviews(0)\n      }\n    })\n  }, [product_id, addReview])\n\n\n  return (\n    <Grid item xs={12} sm={9}>\n      <Paper >\n        <Grid container direction=\"column\" spacing={2}>\n          <ReviewsSort\n            totalReviews={totalReviews}\n            sort={sort}\n            handleSortChange={handleSortChange}\n          />\n          <ReviewCards results={results}/>\n          <Grid item >\n            <ButtonGroup color=\"secondary\">\n              {totalReviews > count && <Button style={{borderRadius: '0'}} onClick={e => setCount(count + 2)}>More Reviews</Button>}\n              {!addReview && <Button style={{borderRadius: '0'}} onClick={e => setOpen(true)}>Add Reviews +</Button>}\n              <ReviewSubmit name={name} product_id={product_id} setAddReview={setAddReview} open={open} setOpen={setOpen}/>\n            </ButtonGroup>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default Reviews;"]},"metadata":{},"sourceType":"module"}