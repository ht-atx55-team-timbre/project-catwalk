{"ast":null,"code":"import _slicedToArray from\"/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from'react';import{Grid,Paper}from'@material-ui/core';import axios from'axios';import AverageRating from'./ratings/AverageRating';import StarCounts from'./ratings/StarCounts';import DescriptionRatings from'./ratings/DescriptionRatings';import getRatings from'./ratings/getRatings';import getCharacteristics from'./getCharacteristics';import getRating from'./ratings/getRating';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Ratings=function Ratings(_ref){var product_id=_ref.product_id,addReview=_ref.addReview;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),characteristics=_useState2[0],setCharacteristics=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),ratings=_useState4[0],setRatings=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),recommended=_useState6[0],setRecommended=_useState6[1];useEffect(function(){axios.get(\"/meta\",{baseURL:'http://127.0.0.1:3004/reviews',params:{product_id:product_id}}).then(function(res){setRecommended(res.data.recommended);}).catch(function(err){console.log(err,'error getting reviews metadate for the product id');});getRatings(product_id).then(function(ratings){setRatings(ratings);}).catch(function(err){console.log(err,'error getting reviews ratings for the product id');});getCharacteristics(product_id).then(function(characteristics){if(characteristics){setCharacteristics(characteristics);}else{setCharacteristics({});}}).catch(function(err){console.log(err,'error getting reviews characteristics for the product id');});},[product_id,addReview]);var stars=['5','4','3','2','1'];var _getRating=getRating(ratings),_getRating2=_slicedToArray(_getRating,2),average=_getRating2[0],numberOfRating=_getRating2[1];return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:3,children:/*#__PURE__*/_jsx(Paper,{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsxs(Grid,{item:true,container:true,children:[/*#__PURE__*/_jsx(AverageRating,{averageRating:average,recommended:recommended}),Object.keys(ratings).length!==0&&/*#__PURE__*/_jsx(StarCounts,{stars:stars,numberOfRating:numberOfRating,ratings:ratings}),Object.keys(characteristics).length!==0&&/*#__PURE__*/_jsx(DescriptionRatings,{characteristics:characteristics})]})})});};export default Ratings;","map":{"version":3,"sources":["/home/eric-cruz/Desktop/VS/Senior-HR/FEC/project-catwalk/client/src/reviews-components/Ratings.js"],"names":["React","useState","useEffect","Grid","Paper","axios","AverageRating","StarCounts","DescriptionRatings","getRatings","getCharacteristics","getRating","Ratings","product_id","addReview","characteristics","setCharacteristics","ratings","setRatings","recommended","setRecommended","get","baseURL","params","then","res","data","catch","err","console","log","stars","average","numberOfRating","textAlign","Object","keys","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Grid, Paper } from '@material-ui/core';\nimport axios from 'axios';\n\nimport AverageRating from './ratings/AverageRating';\nimport StarCounts from './ratings/StarCounts';\nimport DescriptionRatings from './ratings/DescriptionRatings';\nimport getRatings from './ratings/getRatings';\nimport getCharacteristics from './getCharacteristics';\nimport getRating from './ratings/getRating';\n\nconst Ratings = ({ product_id,addReview }) => {\n  const [characteristics, setCharacteristics] = useState({});\n  const [ratings, setRatings] = useState({});\n  const [recommended, setRecommended] = useState({});\n\n  useEffect(() => {\n    axios.get(`/meta`, {\n      baseURL: 'http://127.0.0.1:3004/reviews',\n      params: {\n        product_id: product_id\n      }\n    })\n      .then(res => {\n        setRecommended(res.data.recommended);\n      })\n      .catch((err) => {\n        console.log(err, 'error getting reviews metadate for the product id');\n      });\n    getRatings(product_id)\n      .then(ratings => {\n        setRatings(ratings)\n      })\n      .catch((err) => {\n        console.log(err, 'error getting reviews ratings for the product id');\n      });\n    getCharacteristics(product_id)\n      .then(characteristics => {\n        if (characteristics) {\n          setCharacteristics(characteristics)\n        } else {\n          setCharacteristics({})\n        }\n      })\n      .catch((err) => {\n        console.log(err, 'error getting reviews characteristics for the product id');\n      });\n  }, [product_id, addReview])\n\n  const stars = ['5', '4', '3', '2', '1'];\n  let [average, numberOfRating] = getRating(ratings);\n\n  return (\n    <Grid item xs={12} sm={3}>\n      <Paper style={{textAlign:\"center\"}}>\n        <Grid item container >\n          <AverageRating\n            averageRating={average}\n            recommended={recommended}\n          />\n          {Object.keys(ratings).length !== 0 && <StarCounts\n            stars={stars}\n            numberOfRating={numberOfRating}\n            ratings={ratings}\n          />}\n          {Object.keys(characteristics).length !== 0 && <DescriptionRatings\n            characteristics={characteristics}\n          />}\n        </Grid>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default Ratings;"]},"metadata":{},"sourceType":"module"}